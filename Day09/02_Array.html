<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <title>Array</title>
    <script>
        //5.Array

        var arr= new Array(10,20,30);

        //배열객체의 주요기능 메소드들

        //1) 배열 붙이기 ... concat()
        var arr1=[3,4,5];
        var arr2=arr.concat(arr1); //arr원본배열은 변화없음
        document.write(arr.toString()+"<br>");
        document.write(arr1+"<br>"); //자동 toString() 
        document.write(arr2+"<br>");

        //2) indexOf
        document.write(arr.indexOf()+"<br>");
        document.write(arr.indexOf(30)+"<br>");
        document.write(arr.indexOf(10,1)+"<br>");//두번째 파라미터 : 1번방부터 탐색 시작

        //3) push, pop [stack구조] activity가 이런구조 FILO 자료를보관할때 많이씀
       // 원본요소의 개수가 변경되는 메소드
       var stack = [1,2,3,4,5,6,7];
       document.write(stack+"<br>");

       stack.push(10); //새로운 요소값 삽입 . 마지막에 추가
       document.write(stack+"<br>");
       var e=stack.pop();//마지막 요소를 빼내오기 
       document.write("빼온 값 :"+e+"<br>");
       document.write("남은 값 "+stack+"<br>");

        //4) push,shift[queue구조] 키보드가 이런구조 FIFO 입력 명령
        var queue=[1,2,3,4,5,6,7];

        queue.push(10); //새로운 값 삽입. 마지막에 추가됨
        document.write(queue+"<br>");

        var e=queue.shift();//처음 요소 밀어서 내보내기
        document.write("나온 값 : " +e+"<br>");
        document.write("남은 값 :"+ queue+"<br>");

        //5) sort
        var arr=[3,5,4,8,9,1,6,7];
        arr.sort(); //실제 배열요소의 위치가 변경됨 - 오름차순
        document.write(arr+"<br>");

        //두자리 수 이상일때 문제 발생 .... why? 알파벳 순이라서...
        var arr=[3,1,15,48,754,1234,54,90];
        arr.sort();
        document.write(arr+"<br>");

        //해결하려면 sort()의 파라미터에 '정렬기준 함수'를 넣어줌
        arr.sort(function(a,b){return a-b}); //오름차순
        document.write(arr+"<br>");

        arr.sort(function(a,b){return b-a}); //내림차순
        document.write(arr+"<br>");

        //문자형은 기본 오름차순
        var arr=['asd','avd','bsd','asdf','agd'];
        arr.sort();
        document.write(arr+"<br>");

        //문자형의 내림차순의 '정렬지정함수'
        var desc=function(a,b){
            if(a>b) return -1;
            if(b>a) return 1;
            return 0;
        }

        arr.sort(desc); //정렬지정 함수를 파라미터에 전달
        document.write(arr+"<br>");

        //한글도됨
        var arr=['문재인','박근혜','안철수','이재명','오세훈','이명박'];
        arr.sort();
        document.write(arr+"<br>");

        //6) slice - 배열의 일부분을 잘라서 새로운 배열 리턴해줌
        var arr=[10,20,30,40,50,60,70,80,90];
        var arr2=arr.slice(3); //3번부터 잘라서 새로운 배열 리턴
        document.write(arr+"<br>");
        document.write(arr2+"<br>");

        arr3= arr.slice(3,6) ;//3번부터 6번전까지 잘라서 새로운 배열 리턴
        document.write(arr+"<br>");
        document.write(arr3+"<br>");

        //7) join- 배열의 요소들을 특정문자를 구분자로 하여 하나의 문자열로 결합하여 리턴
        var arr=["aa","bb","cc"];
        var str= arr.join("&");
        document.write(str+"<br>");

        //8) filter = 특정기준에 맞는 요소만 걸러내기
        var arr=[1,2,3,4,5,2,7,4,1,-5,-7,3.14];
        var arr2= arr.filter(function(e){return e>3;});  //지정함수
        document.write(arr+"<br>");
        document.write(arr2+"<br>");

        //좀더 복잡한 지정함수
        var filter = function(e,index,array){
            //요소값이 3보다 크고 방번호가 5번방 넘어선 것
            return (e>3 && index>5);
        }
        var arr3 = arr.filter(filter);
        document.write(filter+"<br>");

        //9) reverse - 배열의 저장순서를 뒤집기 - 원본배열이 변경됨
        var arr=["aa","bb","zz","cc"];
        arr.reverse();
        document.write(arr+"<br>");


        /////////추가적인 내용///////////////
        //ECMAscript 5 에서 추가된 기능들/////
        document.write("<hr>");
        var aa=[10,20,30,40,50];

        //각각의 배열요소에 접근할 때마다 파라미터의 콜백함수를 실행함
        aa.forEach(function(e, index, array){ //이함수는 배열의 요소개수만큼 발동함
            //이 함수의 첫번째 파라미터(value)가 현재번째 요소 값
            document.write(index+" : " + e + " - "+ array.lenght+"<br>");
        });

        //forEach()와 같은 동작이되 리턴값이 있는 메소드
        //리턴된 값들을 새로운 배열에 추가해서 배열을 리턴
       var bb =aa.map(function(e,index,array){
            return e+1; //각각의 요소값에 1을 더해서 리턴
        });
        //리턴된 값 bb는 배열임
        document.write(bb+"<br>");

        //콜백함수의 파라미터에 반드시 3개를 모두 작성할 필요 없음
        var cc= aa.map(function(e){return e+10;});
        document.write(cc+"<br>");
        
        
        



        


        // function aaa(){
        //     document.write("aaa");
        // }
        // aaa();

        // var kkk=function(){

        // }
        // kkk();

        // var bbb=kkk;
        // bbb();

        // function ccc(x){
        //     document.write(x);
        // }
        // ccc("aa");//x="aa"

        // ccc(function(){});


        

    </script>
    <body>
        
    </body>
</html>